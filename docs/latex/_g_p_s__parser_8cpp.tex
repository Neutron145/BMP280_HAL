\doxysection{GPS\+\_\+parser/\+GPS\+\_\+parser.cpp File Reference}
\hypertarget{_g_p_s__parser_8cpp}{}\label{_g_p_s__parser_8cpp}\index{GPS\_parser/GPS\_parser.cpp@{GPS\_parser/GPS\_parser.cpp}}
{\ttfamily \#include "{}GPS\+\_\+parser.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_g_p_s__parser_8cpp_aed6d05ccd1a8ded6cca6aac6d43fe78a}{\+\_\+\+\_\+insert}} (char \texorpdfstring{$\ast$}{*}\&dest, char source, int pos)
\begin{DoxyCompactList}\small\item\em Auxiliary function for insert char in message. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_g_p_s__parser_8cpp_aee803d47574fa687c060137c427808e0}{\+\_\+\+\_\+checksum}} (char \texorpdfstring{$\ast$}{*}\&buffer)
\begin{DoxyCompactList}\small\item\em Internal function to calculate checksum of NMEA message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_g_p_s__parser_8cpp_af716e1c325603f9948abf59c425c0bbc}{\+\_\+\+\_\+line\+\_\+process}} (char \texorpdfstring{$\ast$}{*}\&buffer)
\begin{DoxyCompactList}\small\item\em Internal function to process message before parse. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_g_p_s__parser_8cpp_a31444af23d45a9d25543c4629f9b0836}{parse}} (char \texorpdfstring{$\ast$}{*}buffer)
\begin{DoxyCompactList}\small\item\em Main function to extract data from NMEA message into GGA and VTG structs. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_g_p_s__parser_8cpp_a29f97c4df870aa36f0c8cfc86e37e014}\label{_g_p_s__parser_8cpp_a29f97c4df870aa36f0c8cfc86e37e014} 
\mbox{\hyperlink{struct_g_g_a__data}{GGA\+\_\+data}} {\bfseries GGA}
\item 
\Hypertarget{_g_p_s__parser_8cpp_ac8dc68bedba1457f3f22e7e1d31bbc0e}\label{_g_p_s__parser_8cpp_ac8dc68bedba1457f3f22e7e1d31bbc0e} 
\mbox{\hyperlink{struct_v_t_g__data}{VTG\+\_\+data}} {\bfseries VTG}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file provides parser for NMEA messages from GPS. GPS transmits following NMEA messages\+: GPGGA, GPGSA, GPGSV, GPGLL, GPRMC, GPVTG. We will use GPVTG and GGA to get speed, altitude, longitude, latitude, hdop, number of sattelites and course

All data is read on computer, not in the microcontroller

Data reading algorithm\+:
\begin{DoxyEnumerate}
\item Get NMEA message
\item Calculate checksum
\item If checksum correct, process message before parsing
\item Extract necessary data from template
\end{DoxyEnumerate}

\begin{DoxyAuthor}{Author}
Rafael Abeldinov 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
04.\+12.\+2023 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{_g_p_s__parser_8cpp_aee803d47574fa687c060137c427808e0}\label{_g_p_s__parser_8cpp_aee803d47574fa687c060137c427808e0} 
\index{GPS\_parser.cpp@{GPS\_parser.cpp}!\_\_checksum@{\_\_checksum}}
\index{\_\_checksum@{\_\_checksum}!GPS\_parser.cpp@{GPS\_parser.cpp}}
\doxysubsubsection{\texorpdfstring{\_\_checksum()}{\_\_checksum()}}
{\footnotesize\ttfamily int \+\_\+\+\_\+checksum (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}\&}]{buffer }\end{DoxyParamCaption})}



Internal function to calculate checksum of NMEA message. 


\begin{DoxyParams}{Parameters}
{\em buffer} & -\/ NMEA message for which checksum needs to be calculated \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em status} & -\/ 1 Valid checksum
\begin{DoxyItemize}
\item 0 Invalid checksum 
\end{DoxyItemize}\\
\hline
\end{DoxyRetVals}
\Hypertarget{_g_p_s__parser_8cpp_aed6d05ccd1a8ded6cca6aac6d43fe78a}\label{_g_p_s__parser_8cpp_aed6d05ccd1a8ded6cca6aac6d43fe78a} 
\index{GPS\_parser.cpp@{GPS\_parser.cpp}!\_\_insert@{\_\_insert}}
\index{\_\_insert@{\_\_insert}!GPS\_parser.cpp@{GPS\_parser.cpp}}
\doxysubsubsection{\texorpdfstring{\_\_insert()}{\_\_insert()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+insert (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}\&}]{dest,  }\item[{char}]{source,  }\item[{int}]{pos }\end{DoxyParamCaption})}



Auxiliary function for insert char in message. 


\begin{DoxyParams}{Parameters}
{\em dest} & -\/ Line to insert char into \\
\hline
{\em source} & -\/ Char to be inserted into the line \\
\hline
\end{DoxyParams}
\Hypertarget{_g_p_s__parser_8cpp_af716e1c325603f9948abf59c425c0bbc}\label{_g_p_s__parser_8cpp_af716e1c325603f9948abf59c425c0bbc} 
\index{GPS\_parser.cpp@{GPS\_parser.cpp}!\_\_line\_process@{\_\_line\_process}}
\index{\_\_line\_process@{\_\_line\_process}!GPS\_parser.cpp@{GPS\_parser.cpp}}
\doxysubsubsection{\texorpdfstring{\_\_line\_process()}{\_\_line\_process()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+line\+\_\+process (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}\&}]{buffer }\end{DoxyParamCaption})}



Internal function to process message before parse. 


\begin{DoxyParams}{Parameters}
{\em buffer} & -\/ NMEA message to process \\
\hline
\end{DoxyParams}
\Hypertarget{_g_p_s__parser_8cpp_a31444af23d45a9d25543c4629f9b0836}\label{_g_p_s__parser_8cpp_a31444af23d45a9d25543c4629f9b0836} 
\index{GPS\_parser.cpp@{GPS\_parser.cpp}!parse@{parse}}
\index{parse@{parse}!GPS\_parser.cpp@{GPS\_parser.cpp}}
\doxysubsubsection{\texorpdfstring{parse()}{parse()}}
{\footnotesize\ttfamily int parse (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{buffer }\end{DoxyParamCaption})}



Main function to extract data from NMEA message into GGA and VTG structs. 


\begin{DoxyParams}{Parameters}
{\em buffer} & -\/ NMEA message \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em status} & -\/ 2 Parse VTG message
\begin{DoxyItemize}
\item 1 Parse GGA message
\item 0 Other NMEA message
\item -\/1 Invalid checksum
\item -\/2 Uncorrect data in NMEA 
\end{DoxyItemize}\\
\hline
\end{DoxyRetVals}
